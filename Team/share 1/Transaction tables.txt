CREATE TABLE `transaction` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `merchant_code` varchar(25) NOT NULL,
  `reference` varchar(55) NOT NULL,
  `switch_reference` varchar(55) NOT NULL,
  `merchant_reference` varchar(55) DEFAULT NULL,
  `amount` decimal(10,2) DEFAULT NULL,
  `fee` decimal(6,2) DEFAULT NULL,
  `elevy` decimal(6,2) DEFAULT NULL,
  `description` varchar(150) DEFAULT NULL,
  `product` varchar(45) DEFAULT NULL,
  `trans_code` varchar(5) DEFAULT NULL,
  `card_number` varchar(64) DEFAULT NULL,
  `debit_bank_code` varchar(6) DEFAULT NULL,
  `debit_account` varchar(25) DEFAULT NULL,
  `credit_bank_code` varchar(6) DEFAULT NULL,
  `credit_account` varchar(25) DEFAULT NULL,
  `response_code` varchar(5) DEFAULT NULL,
  `customer_reference` varchar(48) DEFAULT NULL,
  `channel` varchar(5) DEFAULT NULL,
  `sender_mobile` varchar(25) DEFAULT NULL,
  `flag` varchar(5) DEFAULT NULL,
  `mac` varchar(64) DEFAULT NULL,
  `request_id` varchar(40) DEFAULT NULL,
  `request_time` timestamp NULL DEFAULT current_timestamp(),
  `response_time` timestamp NULL DEFAULT NULL,
  `custom_string` varchar(160) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `reference_UNIQUE` (`reference`),
  UNIQUE KEY `switch_reference_UNIQUE` (`switch_reference`),
  KEY `merch_idx` (`merchant_reference`),
  KEY `amt_idx` (`amount`),
  KEY `prod_idx` (`product`),
  KEY `trans_code_idx` (`trans_code`),
  KEY `card_num_idx` (`card_number`),
  KEY `db_bk_idx` (`debit_bank_code`),
  KEY `db_acc_idx` (`debit_account`),
  KEY `cr_bk_idx` (`credit_bank_code`),
  KEY `cr_acc_idx` (`credit_account`),
  KEY `rsp_code_idx` (`response_code`),
  KEY `ch_idx` (`channel`),
  KEY `sender_mobile_idx` (`sender_mobile`),
  KEY `flag_idx` (`flag`),
  KEY `req_time_idx` (`request_time`),
  KEY `rsp_time_idx` (`response_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4



==========================================
CREATE TABLE `transaction_detail` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `reference` varchar(55) NOT NULL,
  `payment_type` varchar(55) NOT NULL,
  `response_code` varchar(5) DEFAULT NULL,
  `processor` varchar(25) DEFAULT NULL,
  `processor_reference` varchar(55) DEFAULT NULL,
  `processor_response_code` varchar(30) DEFAULT NULL,
  `processor_message` varchar(150) DEFAULT NULL,
  `process_attempt` int(1) DEFAULT NULL,
  `flag` varchar(5) DEFAULT NULL,
  `route_id` int(3) DEFAULT NULL,
  `mac` varchar(64) DEFAULT NULL,
  `request_time` timestamp NULL DEFAULT current_timestamp(),
  `response_time` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `ref_idx` (`reference`),
  KEY `pmtype_idx` (`payment_type`),
  KEY `processor_idx` (`processor`),
  KEY `processor_reference_idx` (`processor_reference`),
  KEY `processor_response_code_idx` (`processor_response_code`),
  KEY `processor_message_idx` (`processor_message`),
  KEY `rsp_code_idx` (`response_code`),
  KEY `flag_idx` (`flag`),
  KEY `req_time_idx` (`request_time`),
  KEY `rsp_time_idx` (`response_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4
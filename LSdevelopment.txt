bank api - crud\

route table 
  bankcode, status, ip, port
route ws (crud)  
  
mac = hmac(amount+switchReference+clientReference+sourceAccount , secret);

LS Security
----
 each caller will need credentials
 request data encryption
 ip whitelisting - single,block
 api-keys will be used.
 credentials table for storing api-keys
 how can developer be prevented from seeing api-key = shd be set in env variable, in cfg. developer shd not have access to it.
 api-keys shd be generated by risk on the admin portal
 
Fees 
------


LS Flow
---
1. incoming request
2. security checks - authentication
3. generate mac, switch reference
4. call cms webservice(if it applies)
5. insert record (if it applies)
6. Add merchant data to request
7. route request - request data to route, format and security
8. save response (00 success, 31 failed, 06 failed)

LS Error Codes
----
 should we use ISO Error codes? maybe yes but with our customisations as well

Transaction Routing(Decision
------
-Routing is determined based on the Transcode and bank code of either the source or destination account
eg 1. If you pass Transcode Debit, the switch will only send request to debit without passing corresponding credit. In this example routing will based on the debit account and the Transcode.
So the two(debit account and Transcode) together will help do the routing

eg 2. If the Transcode was credit, the credit bankCode will be used to do the routing

eg 3. If the Transcode was FT (ie FT is a duplex transaction), routing will first be done to the debit bank code and then another routing to the credit bank code(ie if debit was successful)